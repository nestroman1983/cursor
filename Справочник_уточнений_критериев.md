# Справочник уточнений критериев требований

## Приоритет документов
- При расхождении между "Критерии требований.md" и "reglament1_7.md" приоритет имеет **регламент**
- При обнаружении расхождений явно указывать на них

## Ключевые уточнения по правилам

### R3 - Соответствующие уровню подлежащее и сказуемое
- Уровень требования определяется **заголовком раздела**
- При нескольких вложенных уровнях заголовков определять для **наименьшего по уровню заголовку**

### R7 - Неточные термины
- **Исключений нет**
- Если появятся исключения, будет создан отдельный их список

### R14 - Соблюдать правила пунктуации
- **Любое предложение должно заканчиваться точкой**
- **Заголовки - исключение:** как наличие, так и отсутствие точки в заголовке не является ошибкой (заголовки обычно являются фразами, а не предложениями)
- **При создании ТЗ:** не ставить точку в конце заголовка

### R15 - Логические операторы
- Могут быть **любые способы выделения**
- Выделение **может отсутствовать**

### R26 - Абсолютные значения
- Недопустимы только конкретные слова из примера: 100% надежность, 100% доступность, все, каждый, всегда, никогда
- **Синонимы и вариации также недопустимы** (например, "полная надежность", "любой", "всякий раз", "ни разу")

## API и маппинг параметров

### R43 - Соответствие обязательности параметров
- Описание обязательности параметров запросов и ответов должно соответствовать терминам и определениям, заявленным в документе требований

### R44 - Соответствие типов данных параметров
- Описание типа данных параметров запросов и ответов должно соответствовать терминам и определениям, заявленным в документе требований

### R45 - Правильность маппинга параметров по описанию и типу
- При маппинге параметров API разных систем правильность сопоставления проверяется по описанию параметра и его типу данных
- Описание не обязательно должно совпадать, но должно быть идентичным по сути
- Сопоставление по типу данных должно совпадать точно

### R46 - Соответствие обязательности в маппинге параметров
- Для обязательного хотя бы для одной из систем маппинга параметра соответствующий ему в другой или других системах параметр должен быть тоже обязательный

### Что такое таблицы маппинга:
1. Любые таблицы, которые сопоставляют параметры запросов или ответов двух или более API
2. Таблицы, содержащие столбец с источником/правилом заполнения значения параметров
3. Таблицы, построенные по принципу "параметр системы 1" - "параметр системы 2" - ... - "параметр системы N" (количество систем не ограничено, минимум 2)
4. При анализе таблиц маппинга требуется учитывать:
   - Соответствие параметров (названия, описания)
   - Соответствие возможных значений параметров
   - Ссылки на другие таблицы с вложенными параметрами (анализ с учетом взаимосвязей таблиц)

## Уточнения по регламенту

### Раздел 4.2 - Наименование
- Номер версии в наименовании **должен соответствовать** версии в таблице истории изменений

### Раздел 4.3 - Свойства документа
- Поле "Функциональность": при проверке проверять только что не пустое, при написании заполнять **"TBD"**

### Раздел 5.1 - Основные сценарии и Sequence-диаграммы

**При написании ТЗ:**
- Sequence-диаграммы создаются в нотации PlantUML (кроме явных исключений)

**При проверке ТЗ других пользователей:**
1. Если для сценария есть графическая диаграмма → должно быть текстовое описание
2. Если для основного сценария есть текстовое описание → должна быть графическая диаграмма
3. Для альтернативных сценариев допустимо только текстовое описание без графической диаграммы

**Методология проверки раздела 5.1 (ОБЯЗАТЕЛЬНО):**
- Шаг 1: Найти ВСЕ основные сценарии в разделе 5 (grep "^## Основной сценарий")
- Шаг 2: Для КАЖДОГО сценария проверить факт наличия:
  * Графики (изображение PNG/PlantUML перед текстом)
  * Текста (заголовок "Основной сценарий:" + пронумерованные шаги)
- Шаг 3: Записать результаты в промежуточную таблицу
- Шаг 4: ТОЛЬКО после проверки ВСЕХ сценариев делать вывод
- **ЗАПРЕЩЕНО:** делать предположения без фактической проверки

### Раздел 6c - Требования к доступу к функциональности
- **Игнорировать эту проверку** - есть отдельная процедура

### Раздел 14 - Чек-лист
- **Игнорировать проверку**, раздел оставлять пустой

## Правила исключений
- Решение об исключениях может принимать **только автор регламента**
- Исключение касается только разбираемой задачи, если не указано явно иное

## Обновления
- Критерии требований **не обновляются**
- Регламент обновляется примерно каждые 120 дней
- Текущая версия: **регламент 1.7**

---

## Формат отчета о проверке ТЗ

### Обязательная сводная таблица качества

**В конце каждой проверки ТЗ добавлять раздел с количественным анализом:**

#### Основная таблица:
| № | Правило | Описание | Кол-во проверок | Соответствия | Несоответствия | Качество, % |

#### Принципы подсчета:
- **Количество проверок** = ВСЕ проверенные объекты (предложения, параметры, сценарии)
- **Не только ошибки!** Считать общее количество, а не только найденные нарушения
- Примеры:
  * R2: все проверенные предложения (не только с пассивным залогом)
  * R7: все определения/формулировки (не только неточные термины)
  * R26: все фразы (не только найденные абсолюты)
  * R43/R44: все параметры в таблицах API
  * R45/R46: все пары параметров в маппинге

#### Структура раздела:
1. Таблица качества с расчетом процентов
2. Детализация проверок для каждого правила
3. Таблица проверки корректности (Соответствия + Несоответствия = Проверки)
4. Итоговый показатель (среднее арифметическое всех процентов)
5. Интерпретация по категориям (Отлично ≥90%, Хорошо 70-89%, Удовлетворительно 50-69%, Критично <50%)
6. Рекомендации по приоритетам исправления
