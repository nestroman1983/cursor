## Правила для новых чатов (скопируй этот блок в начало)

— Файлы-источники в проекте:
  Критерии требований.md
  reglament1_7.md
  Справочник_уточнений_критериев.md
  Память_критериев_требований.md

— Приоритет: используем регламент `reglament1_7.md` (при расхождениях с `Критерии требований.md` указывать на это явно)
— Исключения: только по решению автора регламента; действуют только для текущей задачи, если не сказано иное
— Обновления: регламент обновляется ~каждые 120 дней; актуальная версия: 1.7

— Формулировки требований: R3/R7/R14/R15/R26 применяются строго
  R3: уровень определяется заголовком (берём наименьший вложенный)
  R7: неточные термины запрещены, исключений нет
  R14: предложения заканчиваются точкой; заголовки — без точки (при создании ТЗ)
  R15: логические операторы — любой способ выделения или без выделения
  R26: запрещены абсолюты из примера и их синонимы/вариации

— Шаблон и оформление (регламент):
  4.2: версия в названии = версии в истории изменений
  4.3: поле «Функциональность» — «TBD» (при проверке: не пустое)
  5.1 Sequence-диаграммы:
    • при написании ТЗ: PlantUML
    • при проверке ТЗ: графика → текст обязателен; текст основного сценария → графика обязательна; альтернативный сценарий → текст без графики допустим
    • МЕТОДОЛОГИЯ: найти ВСЕ сценарии (grep), проверить КАЖДЫЙ факт (PNG+текст), записать в таблицу, НЕ делать предположений
  6c: проверку пермиссий игнорируем (есть отдельная процедура)
  14: раздел чек-листа не заполняем

— API и маппинг (новые правила):
  R43: обязательность параметров соответствует терминам ТЗ
  R44: типы данных параметров соответствуют терминам ТЗ
  R45: маппинг проверяем по описанию (по сути) и типу (точно)
  R46: если параметр обязателен в одной системе — он обязателен и во всех связанных
  
  Таблицы маппинга:
  • любые таблицы, сопоставляющие параметры 2+ API
  • таблицы с столбцом источника/правила заполнения
  • таблицы "параметр системы 1" - "параметр системы 2" - ... - "параметр системы N"
  • проверять соответствие параметров И возможных значений
  • учитывать ссылки на вложенные таблицы

— Отчет о проверке ТЗ:
  В конце каждой проверки ОБЯЗАТЕЛЬНО добавлять раздел "Сводная таблица качества":
  • Таблица: № | Правило | Описание | Проверки | Соответствия | Несоответствия | Качество,%
  • Проверки = ВСЕ объекты (не только ошибки!): предложения, параметры, сценарии
  • Детализация для каждого правила с конкретными объектами проверки
  • Таблица корректности: Соответствия + Несоответствия = Проверки (для каждого правила)
  • Итог: среднее арифметическое всех % → оценка (Отлично ≥90%, Хорошо 70-89%, Удовл. 50-69%, Критично <50%)
  • Интерпретация + рекомендации по приоритетам


